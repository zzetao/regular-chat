webpackJsonp([1],{0:function(t,e,n){t.exports=n(95)},27:function(t,e,n){t.exports=n.p+"mark.6f8b7.png"},50:function(t,e,n){t.exports={default:n(104),__esModule:!0}},89:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(136),r=a(o),l=n(16),c=a(l),u=n(27);e.default=i.default.extend({name:"chat-header",template:r.default,data:{nickname:null,avatar_url:u},init:function(){this.data.nickname=c.default.get("nickname")}})},90:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(50),i=a(s),o=n(3),r=a(o),l=n(137),c=a(l),u=n(28),d=a(u),f=n(16),v=a(f);n(27),e.default=r.default.extend({name:"contact-list",template:c.default,data:{contacts:[],selectedContact:[],pageIndex:1,isShowLoading:!0,isLoadMore:!1},config:function(t){this.getContacts()},select:function(t,e){this.data.selectedContact=[],this.data.selectedContact[e]=!0,t.unread=0,t.id=e;var n=v.default.get("messageDB")||{};t.messages=n[e]||[],this.$emit("selected",t)},getContacts:function(){var t=this,e=this.data.pageIndex;this.data.isShowLoading=!0,d.default.get("https://api.randomuser.me",{params:{results:20,page:e}}).then(function(n){var a=n.data.results,s=[],o=!0,r=!1,l=void 0;try{for(var c,u=(0,i.default)(a);!(o=(c=u.next()).done);o=!0){var d=c.value;s.push({name:d.login.username,avatar_url:d.picture.medium,time:"09:30 AM",unread:Math.floor(10*Math.random()),message:d.location.city+" "+d.location.state+" "+d.location.street+" "+d.location.postcode})}}catch(t){r=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw l}}t.data.pageIndex=e+1,t.data.contacts=t.data.contacts.concat(s),t.data.isShowLoading=!1,t.data.isLoadMore=!1,t.$update()}).catch(function(t){console.log("[error]: ",t)})},loadMore:function(t){var e=t.target,n=window.innerHeight||document.documentElement.clientHeight;e.scrollTop+n-60>e.scrollHeight-200&&!this.data.isLoadMore&&(this.data.isLoadMore=!0,console.log("load more........",this.data.pageIndex),this.getContacts())}})},91:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(138),r=a(o);e.default=i.default.extend({name:"loading",template:r.default})},92:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(139),r=a(o),l=n(27);e.default=i.default.extend({name:"message-list",template:r.default,data:{avatar_url:l},scrollBottom:function(){var t=this.$refs.messageList;setTimeout(function(){t.scrollTop=t.scrollHeight},0)},config:function(t){var e=this;this.$watch("session.messages",function(t,n){e.scrollBottom()})},init:function(){this.scrollBottom()}})},93:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(140),r=a(o),l=n(16),c=a(l),u=n(28),d=a(u);e.default=i.default.extend({name:"message-reply",template:r.default,data:{message:""},saveDB:function(t){var e=this.data.session.id,n=c.default.get("messageDB")||{},a=n[e]||[];a.push(t),n[e]=a,c.default.set("messageDB",n)},autoReply:function(){var t=this;d.default.get("http://hitokoto.api.freejishu.com/v2/").then(function(e){var n={position:"left",time:t.getNow(),content:e.data||"random random random"};t.saveDB(n),t.$emit("reply",n)})},getNow:function(){function t(t){var e=parseInt(t)||0;return(e<10?"0":"")+t}function e(){return n.getHours()<12?"AM":"PM"}var n=new Date;return t(n.getHours())+":"+t(n.getMinutes())+" "+e()},messageReply:function(t,e){var n=this;if(t=(t||"").trim(),!t)return!1;e.preventDefault();var a={position:"right",time:this.getNow(),content:t};this.saveDB(a),this.$emit("reply",a),this.data.message="",setTimeout(function(){n.autoReply()},1e3)}})},94:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){}},95:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=n(3),i=a(s),o=n(49),r=a(o),l=n(100),c=a(l),u=n(98),d=a(u),f=n(96),v=a(f),m=n(94),p=a(m),h=n(91);a(h),(0,p.default)(i.default),n(135),i.default.event("enter",function(t,e){i.default.dom.on(t,"keypress",function(t){13===t.which&&e(t)})});var g=(0,r.default)({view:document.getElementById("#app"),Component:i.default});g.state("app",c.default,"").state("app.index",d.default,{url:"/"}).state("app.chat",v.default,{url:"/chat"}).on("notfound",function(){console.log("[Router]: not found"),g.go("app.index")}).on("begin",function(t){console.log("[Router]: ",t)}).start({html5:!1,prefix:"!"})},96:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(141),r=a(o),l=n(89),c=(a(l),n(90)),u=(a(c),n(92)),d=(a(u),n(93));a(d),e.default=i.default.extend({name:"chat-view",template:r.default,data:{session:null}})},97:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(50),i=a(s),o=n(3),r=a(o),l=n(142),c=a(l);e.default=r.default.extend({name:"chat-person",template:c.default,data:{person:[{name:"Nicky",intro:"Nicky Byrne",avatar_url:n(163)},{name:"Bryan",intro:"Bryan McFadden",avatar_url:n(161)},{name:"Shane",intro:"Shane Steven Filan",avatar_url:n(164)},{name:"Kian",intro:"Kian John Francis Egan",avatar_url:n(162)},{name:"Mark",intro:"Markus Michael Patrick Feehily",avatar_url:n(27)}]},init:function(){setTimeout(function(){var t=document.querySelectorAll(".chat-btn"),e=!0,n=!1,a=void 0;try{for(var s,o=(0,i.default)(t);!(e=(s=o.next()).done);e=!0){var r=s.value;r.onclick=function(){return nameInput.focus()}}}catch(t){n=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}},0)}})},98:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(143),r=a(o),l=n(99),c=(a(l),n(97));a(c),e.default=i.default.extend({name:"index",data:{screenHeight:0},template:r.default,config:function(t){this.data.screenHeight=document.body.scrollHeight<550?550:document.body.scrollHeight}})},99:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(144),r=a(o),l=n(16),c=a(l);e.default=i.default.extend({data:{name:null},name:"layout-input",template:r.default,startHandler:function(t){console.log("[name]: ",t);var e=(t||"").trim();e&&(c.default.set("nickname",e),this.$root.$state.go("app.chat"))}})},100:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(145),r=a(o);e.default=i.default.extend({name:"layout",template:r.default})},104:function(t,e,n){n(61),n(60),t.exports=n(129)},110:function(t,e,n){var a=n(30),s=n(6)("toStringTag"),i="Arguments"==a(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),s))?n:i?a(e):"Object"==(r=a(e))&&"function"==typeof e.callee?"Arguments":r}},128:function(t,e,n){var a=n(110),s=n(6)("iterator"),i=n(19);t.exports=n(14).getIteratorMethod=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||i[a(t)]}},129:function(t,e,n){var a=n(13),s=n(128);t.exports=n(14).getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},135:function(t,e){},136:function(t,e){t.exports='<div class="chat-header">\n\t<h1 class="logo">Regular Chat</h1>\n\t<h2 class="chat-topic">{username}</h2>\n\t<div class="user-profile">\n\t\t<img src={avatar_url} alt={nickname} class="user-avatar">\n\t\t<div class="user-nickname">{nickname}</div>\n\t</div>\n</div>'},137:function(t,e){t.exports='<div class="chat-sidebar" on-scroll={this.loadMore($event)}>\n\t<div class="contact-list">\n\t\t<ul class="contact-item-wrap">\n\t\t\t{#list contacts as contact}\n\t\t\t<li class="contact-item"\n\t\t\t\ton-click={this.select(contact,contact_index)}\n\t\t\t\tr-class={{"active": selectedContact[contact_index] === true}}\n\t\t\t>\n\t\t\t\t<div class="avatar">\n\t\t\t\t\t<img src={contact.avatar_url} />\n\t\t\t\t</div>\n\t\t\t\t<div class="info">\n\t\t\t\t\t<div class="name">{contact.name}</div>\n\t\t\t\t\t<div class="newst-message">{contact.message}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="other">\n\t\t\t\t\t<div class="time">{contact.time}</div>\n\t\t\t\t\t{#if contact.unread > 0}\n\t\t\t\t\t<div class="unread-count">{contact.unread}</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t{/list}\n\t\t</ul>\n\t\t<loading show={isShowLoading} />\n\t</div>\n</div>\n'},138:function(t,e){t.exports='<div class="loading" r-hide="!show">\n\tLoading...\n</div>'},139:function(t,e){t.exports='<div class="message-list" ref="messageList">\n\t{#list session.messages as message}\n\t<div class="message-item message-item-{message.position}" >\n\t\t<div class="userinfo">\n\t\t\t<div class="avatar">\n\t\t\t\t<img src={message.position == \'left\' ? session.avatar_url : avatar_url} />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="message-content-wrap">\n\t\t\t<div class="message-content">\n\t\t\t\t{message.content}\n\t\t\t\t<div class="message-time">{message.time}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t{/list}\n\t{#if session.messages.length === 0}\n\t<div class="no-messages">Say something...</div>\n\t{/if}\n</div>'},140:function(t,e){t.exports='<div class="message-reply-container">\n\t<div class="message-reply-box">\n\t\t<textarea class="message-input" on-enter={this.messageReply(message, $event)} r-model="message"></textarea>\n\t\t<div class="message-reply-more">\n\t\t\t<button class="message-reply-more-btn">\n\t\t\t\t+\n\t\t\t</button>\n\t\t\t<button class="message-reply-emoji-btn">\n\t\t\t\t😊\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},141:function(t,e){t.exports='<chat-header username={session && session.name} />\n<contact-list on-selected={session = $event} />\n{#if session}\n<div class="chat-body">\n\t<message-list  session={session} />\n\t<message-reply session={session} on-reply={session.messages.push($event)} />\n</div>\n{#else}\n<div class="chat-empty">\n\t<div class="emoticon">｡･ﾟ☆━ㄟ(〃\'▽\'〃ㄟ)</div>\n</div>\n{/if}'},142:function(t,e){t.exports='<div class="chat-person">\n\t{#list person as pepole}\n\t<div class="person">\n\t\t<div class="avatar-mask">\n\t\t\t<button class="chat-btn">Chat Now</button>\n\t\t</div>\n\t\t<div class="avatar">\n\t\t\t<img src={pepole.avatar_url} >\t\t\t\n\t\t</div>\n\t\t<div class="name">{pepole.name}</div>\n\t\t<div class="desc">{pepole.intro}</div>\n\t</div>\n\t{/list}\n</div>'},143:function(t,e){t.exports='<div class="layout-hd" r-style={ {height: screenHeight+\'px\' } }>\n\t<h1 class="title">Regular Chat</h1>\n\t<h3 class="description">Beautiful Chat APP Bulit RegularJs</h3>\n\t<div class="layout-hd-line"></div>\n\t<layout-input></layout-input>\n</div>\n<div class="layout-content">\n\t<div class="chat-description">\n\t\t<h3>Start chatting</h3>\n\t\t<div class="line"></div>\n\t\t<p>Chat with anyone you want, about anything you want</p>\n\t</div>\n\t<chat-person></chat-person>\n</div>\n\n<div class="footer">\n\t<div class="copyright">Copyright © 2016 <a href="https://github.com/zzetao">@zzetao</a></div>\n</div>'},144:function(t,e){t.exports='<div class="layout-input">\n\t<input type="text" placeholder="YOUR NAME" on-enter="{this.startHandler(name)}" r-model="name" id="nameInput">\n\t<button class="layout-input-btn" on-click={this.startHandler(name)}>Chat Now</button>\n</div>'},145:function(t,e){t.exports="<div ref=view>\n\t\n</div>"},161:function(t,e,n){t.exports=n.p+"bryan.797fc.png"},162:function(t,e,n){t.exports=n.p+"kian.6ad22.png"},163:function(t,e,n){t.exports=n.p+"nicky.ab302.png"},164:function(t,e,n){t.exports=n.p+"shane.89d74.png"}});