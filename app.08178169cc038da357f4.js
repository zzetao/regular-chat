webpackJsonp([1],{0:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=n(3),i=a(s),o=n(51),l=a(o),r=n(99),c=a(r),d=n(97),u=a(d),f=n(95),v=a(f),p=n(94),m=a(p),h=n(91);a(h),(0,m.default)(i.default),n(135),i.default.event("enter",function(t,e){i.default.dom.on(t,"keypress",function(t){13===t.which&&e(t)})});var g=(0,l.default)({view:document.getElementById("#app"),Component:i.default});g.state("app",c.default,"").state("app.index",u.default,{url:""}).state("app.chat",v.default,{url:"chat"}).on("notfound",function(){console.log("[Router]: not found")}).on("begin",function(t){console.log("[Router]: ",t,void 0)}).start({html5:!1,prefix:"!"})},44:function(t,e,n){t.exports=n.p+"mark.6f8b7.png"},89:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(136),l=a(o);e.default=i.default.extend({name:"chat-header",template:l.default})},90:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(100),i=a(s),o=n(3),l=a(o),r=n(137),c=a(r),d=n(26),u=a(d),f=n(42),v=a(f);n(44),e.default=l.default.extend({name:"contact-list",template:c.default,data:{contacts:[],selectedContact:[],pageIndex:1,isShowLoading:!0,isLoadMore:!1},config:function(t){this.getContacts()},select:function(t,e){this.data.selectedContact=[],this.data.selectedContact[e]=!0,t.unread=0,t.id=e;var n=v.default.get("messageDB")||{};t.messages=n[e]||[],this.$emit("selected",t)},getContacts:function(){var t=this,e=this.data.pageIndex;this.data.isShowLoading=!0,u.default.get("https://api.randomuser.me",{params:{results:20,page:e}}).then(function(n){var a=n.data.results,s=[],o=!0,l=!1,r=void 0;try{for(var c,d=(0,i.default)(a);!(o=(c=d.next()).done);o=!0){var u=c.value;s.push({name:u.login.username,avatar_url:u.picture.medium,time:"09:30 AM",unread:Math.floor(10*Math.random()),message:u.location.city+" "+u.location.state+" "+u.location.street+" "+u.location.postcode})}}catch(t){l=!0,r=t}finally{try{!o&&d.return&&d.return()}finally{if(l)throw r}}t.data.pageIndex=e+1,t.data.contacts=t.data.contacts.concat(s),t.data.isShowLoading=!1,t.data.isLoadMore=!1,t.$update()}).catch(function(t){console.log("[error]: ",t)})},loadMore:function(t){var e=t.target,n=window.innerHeight||document.documentElement.clientHeight;e.scrollTop+n-60>e.scrollHeight-200&&!this.data.isLoadMore&&(this.data.isLoadMore=!0,console.log("load more........",this.data.pageIndex),this.getContacts())}})},91:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(138),l=a(o);e.default=i.default.extend({name:"loading",template:l.default})},92:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(139),l=a(o),r=n(44);e.default=i.default.extend({name:"message-list",template:l.default,data:{avatar_url:r},scrollBottom:function(){var t=this.$refs.messageList;setTimeout(function(){t.scrollTop=t.scrollHeight},0)},config:function(t){var e=this;this.$watch("session.messages",function(t,n){e.scrollBottom()})},init:function(){this.scrollBottom()}})},93:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(140),l=a(o),r=n(42),c=a(r),d=n(26),u=a(d);e.default=i.default.extend({name:"message-reply",template:l.default,data:{message:""},saveDB:function(t){var e=this.data.session.id,n=c.default.get("messageDB")||{},a=n[e]||[];a.push(t),n[e]=a,c.default.set("messageDB",n)},autoReply:function(){var t=this;u.default.get("http://hitokoto.api.freejishu.com/v2/").then(function(e){var n={position:"left",time:"09:31 AM",content:e.data||"random random random"};t.saveDB(n),t.$emit("reply",n)})},messageReply:function(t,e){var n=this;if(t=(t||"").trim(),!t)return!1;e.preventDefault();var a={position:"right",time:"09:30 AM",content:t};this.saveDB(a),this.$emit("reply",a),this.data.message="",setTimeout(function(){n.autoReply()},1e3)}})},94:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){}},95:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(141),l=a(o),r=n(89),c=(a(r),n(90)),d=(a(c),n(92)),u=(a(d),n(93));a(u),e.default=i.default.extend({name:"chat-view",template:l.default,data:{session:null}})},96:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(142),l=a(o);e.default=i.default.extend({name:"chat-person",template:l.default,data:{person:[{name:"Nicky",intro:"Nicky Byrne",avatar_url:n(163)},{name:"Bryan",intro:"Bryan McFadden",avatar_url:n(161)},{name:"Shane",intro:"Shane Steven Filan",avatar_url:n(164)},{name:"Kian",intro:"Kian John Francis Egan",avatar_url:n(162)},{name:"Mark",intro:"Markus Michael Patrick Feehily",avatar_url:n(44)}]}})},97:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(143),l=a(o),r=n(98),c=(a(r),n(96));a(c),e.default=i.default.extend({name:"index",data:{screenHeight:0},template:l.default,config:function(t){this.data.screenHeight=document.body.scrollHeight}})},98:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(144),l=a(o);e.default=i.default.extend({data:{name:null},name:"layout-input",template:l.default,startHandler:function(t){console.log("[name]: ",t),this.$root.$state.go("app.chat")}})},99:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=a(s),o=n(145),l=a(o);e.default=i.default.extend({name:"layout",template:l.default})},100:function(t,e,n){t.exports={default:n(104),__esModule:!0}},104:function(t,e,n){n(62),n(61),t.exports=n(129)},110:function(t,e,n){var a=n(27),s=n(6)("toStringTag"),i="Arguments"==a(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,l;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),s))?n:i?a(e):"Object"==(l=a(e))&&"function"==typeof e.callee?"Arguments":l}},128:function(t,e,n){var a=n(110),s=n(6)("iterator"),i=n(19);t.exports=n(15).getIteratorMethod=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||i[a(t)]}},129:function(t,e,n){var a=n(14),s=n(128);t.exports=n(15).getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},135:function(t,e){},136:function(t,e){t.exports='<div class="chat-header">\n\t<h1 class="logo">Regular Chat</h1>\n\t<h2 class="chat-topic">{username}</h2>\n</div>'},137:function(t,e){t.exports='<div class="chat-sidebar" on-scroll={this.loadMore($event)}>\n\t<div class="contact-list">\n\t\t<ul class="contact-item-wrap">\n\t\t\t{#list contacts as contact}\n\t\t\t<li class="contact-item"\n\t\t\t\ton-click={this.select(contact,contact_index)}\n\t\t\t\tr-class={{"active": selectedContact[contact_index] === true}}\n\t\t\t>\n\t\t\t\t<div class="avatar">\n\t\t\t\t\t<img src={contact.avatar_url} />\n\t\t\t\t</div>\n\t\t\t\t<div class="info">\n\t\t\t\t\t<div class="name">{contact.name}</div>\n\t\t\t\t\t<div class="newst-message">{contact.message}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="other">\n\t\t\t\t\t<div class="time">{contact.time}</div>\n\t\t\t\t\t{#if contact.unread > 0}\n\t\t\t\t\t<div class="unread-count">{contact.unread}</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t{/list}\n\t\t</ul>\n\t\t<loading show={isShowLoading} />\n\t</div>\n</div>\n'},138:function(t,e){t.exports='<div class="loading" r-hide="!show">\n\tLoading...\n</div>'},139:function(t,e){t.exports='<div class="message-list" ref="messageList">\n\t{#list session.messages as message}\n\t<div class="message-item message-item-{message.position}" >\n\t\t<div class="userinfo">\n\t\t\t<div class="avatar">\n\t\t\t\t<img src={message.position == \'left\' ? session.avatar_url : avatar_url} />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="message-content-wrap">\n\t\t\t<div class="message-content">\n\t\t\t\t{message.content}\n\t\t\t\t<div class="message-time">{message.time}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t{/list}\n\t{#if session.messages.length === 0}\n\t<div class="no-messages">Say something...</div>\n\t{/if}\n</div>'},140:function(t,e){t.exports='<div class="message-reply-container">\n\t<div class="message-reply-box">\n\t\t<textarea class="message-input" on-enter={this.messageReply(message, $event)} r-model="message"></textarea>\n\t\t<div class="message-reply-more">\n\t\t\t<button class="message-reply-more-btn">\n\t\t\t\t+\n\t\t\t</button>\n\t\t\t<button class="message-reply-emoji-btn">\n\t\t\t\tüòä\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},141:function(t,e){t.exports='<chat-header username={session && session.name} />\n<contact-list on-selected={session = $event} />\n{#if session}\n<div class="chat-body">\n\t<message-list  session={session} />\n\t<message-reply session={session} on-reply={session.messages.push($event)} />\n</div>\n{#else}\n<div class="chat-empty">\n\t<div class="emoticon">ÔΩ°ÔΩ•Ôæü‚òÜ‚îÅ„Ñü(„ÄÉ\'‚ñΩ\'„ÄÉ„Ñü)</div>\n</div>\n{/if}'},142:function(t,e){t.exports='<div class="chat-person">\n\t{#list person as pepole}\n\t<div class="person">\n\t\t<div class="avatar-mask">\n\t\t\t<button class="chat-btn">Chat Now</button>\n\t\t</div>\n\t\t<div class="avatar">\n\t\t\t<img src={pepole.avatar_url} >\t\t\t\n\t\t</div>\n\t\t<div class="name">{pepole.name}</div>\n\t\t<div class="desc">{pepole.intro}</div>\n\t</div>\n\t{/list}\n</div>'},143:function(t,e){t.exports='<div class="layout-hd" r-style={ {height: screenHeight+\'px\' } }>\n\t<h1 class="title">Regular Chat</h1>\n\t<h3 class="description">Beautiful Chat APP Bulit RegularJs</h3>\n\t<div class="layout-hd-line"></div>\n\t<layout-input></layout-input>\n</div>\n<div class="layout-content">\n\t<div class="chat-description">\n\t\t<h3>Start chatting</h3>\n\t\t<div class="line"></div>\n\t\t<p>Chat with anyone you want, about anything you want</p>\n\t</div>\n\t<chat-person></chat-person>\n</div>\n\n<div class="footer">\n\t<div class="copyright">Copyright ¬© 2016 <a href="https://github.com/zzetao">@zzetao</a></div>\n</div>'},144:function(t,e){t.exports='<div class="layout-input">\n\t<input type="text" placeholder="YOUR NAME" r-model="name">\n\t<button class="layout-input-btn" on-click={this.startHandler(name)}>Chat Now</button>\n</div>'},145:function(t,e){t.exports="<div ref=view>\n\t\n</div>"},161:function(t,e,n){t.exports=n.p+"bryan.797fc.png"},162:function(t,e,n){t.exports=n.p+"kian.6ad22.png"},163:function(t,e,n){t.exports=n.p+"nicky.ab302.png"},164:function(t,e,n){t.exports=n.p+"shane.89d74.png"}});